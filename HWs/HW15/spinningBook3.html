<!DOCTYPE html><HTML LANG="en"><HEAD><TITLE>MotionGenesis: spinningBook3.html</TITLE><STYLE>.BoldDarkBlueNoWrap {font-weight:bold; color:darkBlue; white-space:nowrap;}</STYLE></HEAD>
<BODY STYLE="background-color:#FFFFFF; margin:8px 0px 0px 8px">
<DIV class="BoldDarkBlueNoWrap"><SPAN STYLE="font-size:large;">spinningBook3.html</SPAN> &nbsp; <SPAN STYLE="font-size:small;">(MotionGenesis input/output)</SPAN>.</DIV>
<PRE>
   (1) % MotionGenesis file:  MGTemplateBasic.txt
   (2) % Copyright (c) 2009-2021 Motion Genesis LLC.
   (3) %--------------------------------------------------------------------
   (4) %   Physical objects.
   (5) NewtonianFrame  N                % Example: Earth.
   (6) RigidBody       B
   (7) %--------------------------------------------------------------------
   (8) %   Mathematical declarations.
   (9) Variable    wx', wy', wz'        % Angular Speeds
   (10) Constant Ixx = 1 kg*m^2, Iyy = 2 kg*m^2, Izz = 3 kg*m^2 %Create a body with different moments
   (11) %--------------------------------------------------------------------
   (12) %   Mass and inertia properties.
   (13) % A.SetMass( mA = 2 kg ) % Does this need to be able to happen?
   (14) B.SetInertia( Bcm,  Ixx, Iyy, Izz )
   (15) %--------------------------------------------------------------------
   (16) % Translational
   (17) Bcm.SetPosition(No, 0*Bx>)
-> (18) p_No_Bcm> = 0>

   (19) Bcm.SetVelocityAcceleration(N, 0*Bx>)
-> (20) v_Bcm_N> = 0>
-> (21) a_Bcm_N> = 0>

   (22) %--------------------------------------------------------------------
   (23) %   Rotational kinematics.
   (24) B.SetAngularVelocity( N, wx*Bx> + wy*By> + wz*Bz> )
-> (25) w_B_N> = wx*Bx> + wy*By> + wz*Bz>

   (26) %--------------------------------------------------------------------
   (27) % Set equations of motion
   (28) H> = System.GetAngularMomentum(Bcm)
-> (29) H> = Ixx*wx*Bx> + Iyy*wy*By> + Izz*wz*Bz>

   (30) KE = System.GetKineticEnergy()
-> (31) KE = 0.5*Ixx*wx^2 + 0.5*Iyy*wy^2 + 0.5*Izz*wz^2

   (32) Hx = dot(H>, Bx>)
-> (33) Hx = Ixx*wx

   (34) Hy = dot(H>, By>)
-> (35) Hy = Iyy*wy

   (36) Hz = dot(H>, Bz>)
-> (37) Hz = Izz*wz

   (38) Hmag = GetMagnitude(H>)
-> (39) Hmag = sqrt(Ixx^2*wx^2+Iyy^2*wy^2+Izz^2*wz^2)

   (40) wx' = ((Iyy - Izz)*wz*wy) / Ixx
-> (41) wx' = (Iyy-Izz)*wy*wz/Ixx

   (42) wy' = ((Izz - Ixx)*wz*wx) / Iyy
-> (43) wy' = -(Ixx-Izz)*wx*wz/Iyy

   (44) wz' = ((Ixx - Iyy)*wx*wy) / Izz
-> (45) wz' = (Ixx-Iyy)*wx*wy/Izz

   (46) OutputPlot  t sec,  wx rad/sec, wy rad/sec, wz rad/sec, Hx, Hy, Hz, Hmag, KE
   (47) Input  tFinal = 4 sec,  tStep = 0.02 sec,  absError = 1.0E-07, wx = 0.2 rad/sec,   wy = 7.0 rad/sec,  wz = 0.2 rad/sec
   (48) ODE() CoupledODEFirstOrder

</PRE>
<DIV class="BoldDarkBlueNoWrap" STYLE="font-size:x-small;">Saved by Stanford ME331 student. &nbsp; Command names and syntax: Copyright (c) 2009-2021 Motion Genesis LLC.  All rights reserved.</DIV>
</BODY></HTML>